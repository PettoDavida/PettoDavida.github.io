<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: script.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: script.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const forest = 'F';
const path = 'P';
const pathCrossing = 'Pc';
const pathDeadEnd = 'PdE';
const villageEntrance = 'vE';
const village = 'V';
const villageBlacksmith = 'vB';
const villageChief = 'vC';
const swamp = 'S';
const gate = 'G';
const wall = 'W';
const ogreNeo = 'O';

const field = [
    ['W', 'W', 'W', 'W', 'G', 'W', 'W', 'W', 'W'],
    ['F', 'F', 'F', 'F', 'P', 'F', 'F', 'S', 'S'],
    ['F', 'F', 'F', 'F', 'P', 'F', 'F', 'S', 'S'],
    ['V', 'vE', 'P', 'P', 'Pc', 'P', 'P', 'PdE', 'O'],
    ['V', 'vC', 'F', 'F', 'P', 'F', 'F', 'S', 'S'],
    ['V', 'vB', 'F', 'F', 'P', 'F', 'F', 'S', 'S'],
]

let sword = false;
let axe = false;
let gateKey = false;
let talkToChief = false;
let talkToBlacksmith = false;

/**
 * @type {object} 
 * @description This holds the properties of Neo the Ogre
 * @property {int} ogre.hp The ogres health
 * @property {boolean} ogre.dead If the ogre i over 0 health this is supposed to be false so the game knows the ogre lives
 */
let ogre = {
    hp: 100,
    dead: false
};

let story = document.querySelector("#story");
let override = false;

let y = 5;
let x = 4;

document.addEventListener('keydown', (event) => {
    let name = event.key;
    if (name === 'Enter') {
        action();
        checkSquare();
        return;
    }
}, false);

/**
 * function action is used to allow the player to interact with the world. 
 * @returns {null} Depends on #input.value either raises or lowers x and y allowing the player to move or changning the state of a boolean or object
 */
function action() {

    let action = document.querySelector("#input").value;

    if (action == "move north" || action == "go north") {
        if (y &lt;= 0) {
            return;
        } else {
            y--
        }
    }
    if (action == "move south" || action == "go south") {
        if (y >= 5) {
            return;
        } else {
            y++
        }
    }
    if (action == "move east" || action == "go east") {
        if (x >= 8) {
            return;
        }
        if (x + 1 == 2 &amp;&amp; y == 4 || y == 5) {
            story.innerHTML = "The villages walls hinder you from going that way. You will need to find another way out. ";
            override = true;
        } else {
            x++
        }
    }
    if (action == "move west" || action == "go west") {
        if (x &lt;= 0) {
            return;
        }
        if (x - 1 == 1 &amp;&amp; y == 4 || y == 5) {
            story.innerHTML = "The villages walls hinder you from going that way. You will need to find another way in. ";
            override = true;
        } else {
            x--
        }
    }
    if (action == "hint") {
        if (y == 5 &amp;&amp; x == 1) {
            alert("To move write move north, south, east or west. \nTo pick up an item write pickup (itemname)");
            return;
        }
        if (y == 3 &amp;&amp; x == 8) {
            alert("To move write move north, south, east or west. \nTo hit Neo the Ogre write hit ogre with (weaponname) or just hit ogre");
            return;
        } else {
            alert("To move write move north, south, east or west.");
        }
    }
    if (action == "pickup sword") {
        if (y == 5 &amp;&amp; x == 1) {
            sword = true;
            pickupItem("sword");
        } else {
            return;
        }
    }
    if (action == "pickup axe") {
        if (y == 5 &amp;&amp; x == 1) {
            axe = true;
            pickupItem("axe");
        } else {
            return;
        }
    }
    if (action == "hit ogre") {
        if (y == 3 &amp;&amp; x == 8) {
            let weapon = prompt("with what?")
            if (weapon.includes("sword") &amp;&amp; sword == true) {
                hitOgre(15);
                override = true;
                return;
            }
            if (weapon.includes("axe") &amp;&amp; axe == true) {
                hitOgre(25);
                override = true;
                return;
            } else {
                alert("You dont have a weapon.");
            }
        }

    }
    if (action == "hit ogre with sword" &amp;&amp; sword == true) {
        if (y == 3 &amp;&amp; x == 8) {
            hitOgre(15)
            override = true;
        }

    }
    if (action == "hit ogre with axe" &amp;&amp; axe == true) {
        if (y == 3 &amp;&amp; x == 8) {
            hitOgre(25)
            override = true;
        }

    }
    if (action == "pickup key") {
        if (y == 3 &amp;&amp; x == 8 &amp;&amp; ogre.dead) {
            gateKey = true;
            pickupItem("key");
        } else {
            alert("You need to kill the ogre.");
            return;
        }
    }
}

/**
 * Function to calculate if the ogre is dead or can take more damage
 * @param {int} value - Damage done by the weapon the player is using
 * @returns {string} state of ogre
 */
function hitOgre(value) {
    ogre.hp -= value;
    if (!ogre.dead) {
        if (ogre.hp &lt;= 0) {
            story.innerHTML = ("The ogre has died.&lt;br> You see a key hanging from the dead ogres belt.")
            ogre.dead = true;
        } else {
            story.innerHTML = ("The ogre has " + ogre.hp.toString() + "HP left")
        }
    } else {
        story.innerHTML = "Neo the ogre lies dead on the swamp floor";
    }
}

/**
 * function checkSquare() is used to determine what it should print out to tell the player depending on the x and y coordinates
 * @returns {string} Where the player is located in the game world
 */
function checkSquare() {
    if (override) {
        override = false;
        return;
    }

    switch (field[y][x]) {
        case forest:
            story.innerHTML = "You are in a forest! ";

            break;
        case path:
            story.innerHTML = "You are on a path! ";

            break;
        case pathCrossing:
            story.innerHTML = "You have come upon a crossing! ";

            break;
        case pathDeadEnd:
            story.innerHTML = "You have come upon a dead end surrounded by a swamp. You see an ogre to the east.";

            break;
        case villageEntrance:
            story.innerHTML = "You have come upon a village! Maybe you could find someone to ask for help.";

            break;
        case village:
            story.innerHTML = "You can't find anyone in the village. It may be abandoned.";

            break;
        case villageBlacksmith:
            blacksmith();

            break;
        case villageChief:
            chief();

            break;
        case swamp:
            story.innerHTML = "You are in a swamp!";

            break;
        case ogreNeo:
            neoTheOgre();

            break;
        case gate:
            wallGate();

            break;
        case wall:
            story.innerHTML = "You find yourself at a giant wall spanning as far as the eye can see. Maybe there is a gate somewhere?";

            break;
        default:
            break;
    }

}
/**
 * function to see what the blacksmith is supposed to say
 * @returns {string} - depends on who the player has spoken to before 
 */
function blacksmith() {
    if (!talkToChief) {
        if (!talkToBlacksmith) {
            story.innerHTML = "Hello stranger, I am the village blacksmith and you should talk to the village chief. Until you have I can't help you.";
        } else {
            story.innerHTML = "You again?! I told you to talk to the village chief now bugger off I have work to do."
        }
    } else {
        if (talkToBlacksmith) {
            story.innerHTML = "I heard you talked to the chief and he told me to get out my best weapons so that you could help slay Neo the Ogre.&lt;br> What weapon would you like?&lt;br> *on the table you find a pristine looking sword and a battle hardened battle-axe*";
        } else {
            story.innerHTML = "Stranger! I've been expecting you.&lt;br> The chief told me to get out my best weapons so that you could help slay Neo the Ogre.&lt;br> What weapon would you like?&lt;br> *on the table you find a pristine looking sword and a battle hardened battle-axe*";
        }
    }


    talkToBlacksmith = true;
}
/**
 * function to see what the chief is supposed to say
 * @returns {string} - depends on who the player has spoken to before 
 */
function chief() {
    if (talkToChief) {
        if (talkToBlacksmith) {
            story.innerHTML = "Come on go kill Neo the Ogre.";
        } else {
            story.innerHTML = "You should go talk to the blacksmith. I have told him to expect you.";
        }
    } else {
        if (talkToBlacksmith) {
            story.innerHTML = "Hello, I've been waiting the blacksmith told me to expect a stranger to come by. ";
        } else {
            story.innerHTML = "Welcome to our village stranger. As you may have seen our village has been abandoned. &lt;br> This is because of Neo the Ogre that lives in the swamp to the west. If you would be willing to help I will have a message delivered to the blacksmith telling him to expect you.&lt;br> He should be able to give you some sort of weapon.";
        }
    }
    talkToChief = true;
}
/**
 * Function checking what weapons the player has
 * @returns {string} depending on what weapon/weapons the player has
 */
function getWeapon() {

    if (sword &amp;&amp; axe) {
        return "sword and axe";
    }
    if (sword) {
        return "sword";
    }
    if (axe) {
        return "axe";
    }
}
/**
 * Function that changes what it says depending on the state of the ogre and the player when the player gets to the ogres square
 * @returns {string} - What the player sees on the square
 */
function neoTheOgre() {
    if (!ogre.dead) {
        if (talkToChief) {
            if (sword || axe) {
                story.innerHTML = "As you approach Neo the hulking ogre you draw your " + getWeapon() + " getting ready to strike";
            } else {
                story.innerHTML = "You see Neo the hulking ogre you should probably go the other way";
            }
        } else {
            story.innerHTML = "You see a hulking ogre you should probably go the other way"
        }
    } else {
        story.innerHTML = "Neo the ogre lies dead on the swamp floor";
    }

}
/**
 * function that checks if the player has won
 * @returns either win or text about the gate 
 */
function wallGate() {
    if (gateKey) {
        story.innerHTML = alert("Congratulations you have finished my game. Thank you for killing Neo the Ogre and saving the village.")
        location.reload();
    } else {
        story.innerHTML = "You have come upon a giant gate with walls stretching as far as the eye can see to the west and the east. Looks like you need to find a key to open the gate.";
    }
}
/**
 * inventory function so the player can see what they have picked up
 * @param {string} item item that player picks up
 */
function pickupItem(item) {
    document.querySelector("#" + item).innerHTML = item.toString();
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#action">action</a></li><li><a href="global.html#blacksmith">blacksmith</a></li><li><a href="global.html#checkSquare">checkSquare</a></li><li><a href="global.html#chief">chief</a></li><li><a href="global.html#getWeapon">getWeapon</a></li><li><a href="global.html#hitOgre">hitOgre</a></li><li><a href="global.html#neoTheOgre">neoTheOgre</a></li><li><a href="global.html#ogre">ogre</a></li><li><a href="global.html#pickupItem">pickupItem</a></li><li><a href="global.html#wallGate">wallGate</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Nov 18 2021 18:07:58 GMT+0100 (Central European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
